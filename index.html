<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Hello Bae</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="background"></div>
  <div class="popup">
    <img class="dog-img" src="dog.jpg" alt="Cute Dog">
    <h2>Hello Bae 🥰</h2>
    <p>Mình có điều muốn hỏi, cậu phải trả lời thật lòng nhaa!!!</p>
    <button id="ok-btn">OK</button>
  </div>
  <div class="question-page" style="display:none;">
    <h1 class="big-title">
      Cậu có thích mình không? 
      <span class="emoji">😆</span>
      <span class="emoji">😆</span>
    </h1>
    <p class="subtitle">
      Bất ngờ chưa!!! Bị lừa rồi ahihi! Không trả lời mà thoát ra tức là có đó nha :v
    </p>
    <div class="btn-group">
      <button class="btn no-btn" id="no-btn">Không 😡😡</button>
      <button class="btn yes-btn" id="yes-btn">Có 🤣🤣</button>
    </div>
  </div>
  <div class="reason-popup" id="reason-popup" style="display:none;">
    <h2>Nói lí do vì sao cậu thích mình đi :vvv</h2>
    <input type="text" id="reason-input" placeholder="Whyyy">
    <button class="secret-msg" id="secret-msg" style="display:none;">Đừng nói ai biết nha!</button>
  </div>
  <div class="result-popup" id="result-popup" style="display:none;">
    <h2>Ồ mình biết cậu thích mình lâu rồi, không có gì phải giấu cả =))</h2>
    <p class="result-msg">
      Đừng lo, tớ kín miệng lắm. Tớ hứa là tớ sẽ nói cho cả thế giới biết. Tớ hứa mà 😎😎
    </p>
    <button class="share-btn" id="ahihi-btn">ahihi><</button>
  </div>
  <audio id="bg-music" src="music.mp3" autoplay loop style="display:none;"></audio>
  <audio id="move-sound" src="move.mp3" preload="auto"></audio>
  <form id="notifyForm" action="https://formspree.io/f/xpwrgzdr" method="POST" style="display:none;">
    <input type="hidden" name="message" value="Có người vừa nhấn nút ahihi>< trên trang web!">
  </form>
  <script src="script.js"></script>
  <script>
    document.getElementById('ahihi-btn').onclick = function(e) {
      e.preventDefault();
      fetch("https://formspree.io/f/xpwrgzdr", {
        method: "POST",
        headers: { 'Accept': 'application/json', 'Content-Type': 'application/json' },
        body: JSON.stringify({ message: "Có người vừa nhấn nút ahihi>< trên trang web!" })
      }).then(function() {
        alert('Cảm ơn bạn đã nhấn ahihi><!');
        document.getElementById('result-popup').style.display = 'none';
        document.querySelector('.question-page').style.display = 'block';
        resetNoBtnPosition();
        enableNoBtnDodge();
      });
    };

    function enableNoBtnDodge() {
      const noBtn = document.getElementById('no-btn');
      noBtn.onmouseover = function() {
        const btnGroup = document.querySelector('.btn-group');
        const btnWidth = noBtn.offsetWidth;
        const btnHeight = noBtn.offsetHeight;
        const maxX = btnGroup.offsetWidth - btnWidth;
        const maxY = btnGroup.offsetHeight - btnHeight;
        const randomX = Math.random() * maxX;
        const randomY = Math.random() * maxY;
        noBtn.style.position = 'absolute';
        noBtn.style.left = randomX + 'px';
        noBtn.style.top = randomY + 'px';
      };
    }

    function resetNoBtnPosition() {
      const noBtn = document.getElementById('no-btn');
      noBtn.style.position = 'static';
      noBtn.style.left = '';
      noBtn.style.top = '';
    }
  </script>
</body>
</html> 